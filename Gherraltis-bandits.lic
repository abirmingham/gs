$AZ_BANDIT_ATTACK.call(
  Proc.new do |targets|
    if checkmana >= 40
      put 'incant 1630'
    else
      start_room = Room.current.id
      fput 'stance off' until checkstance == 'offensive'
      put 'shield bash' if start_room == Room.current.id
    end
  end
)
